<!DOCTYPE html>
<html>
	<head>
		<title>TITLE</title>
		<link href="https://cdnjs.cloudflare.com/ajax/libs/sortable/0.8.0/css/sortable-theme-bootstrap.min.css" rel="stylesheet" />
		<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.11/lodash.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/sortable/0.8.0/js/sortable.min.js"></script>
		<script src="scripts.js"></script>
	</head>
	<body>

		<div id="root">
			<table id="properties">
				<thead>
					<tr>
						<th>Prop</th>
						<th>Value</th>
					</tr>
				</thead>
				<tbody>
				</tbody>
			</table>
		</div>

		<style>
		</style>

		<script>
			/* TODO:

			 */

			var props = {
				string : PropType.STRING(),
				bool   : PropType.BOOL(),
				int    : PropType.INT(),
				color  : PropType.COLOR(),
				select : PropType.SELECT(['hello', 'world']),
			};


			$(function() {

				var $properties = $("#properties");
				propChangeHandler = () => console.log('changed');

				_.each(props, (type, name) => {
					type.change(propChangeHandler);

					$properties
						.find("tbody")
						.append(
							$("<tr/>")
								.append(
									$("<td/>")
										.append(name),
									$("<td/>")
										.append(type.render()),
								)
						)
				});

			});
		</script>

	</body>
</html>
